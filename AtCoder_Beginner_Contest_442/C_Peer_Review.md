# 関係（グラフ）問題でよく使う3つ
---
## 1. Degree(次数)
- 頂点iに接続している辺の本数(iと関係がある人数)

### 例
辺: (1-2)(1-3)(2-4)(4-5)
- deg(1) = 2
- deg(2) = 2
- deg(3) = 1
- deg(4) = 2
- deg(5) = 1

### よく使う式
iと直接関係がない人数（自分除く）: `n - 1 - deg(i)`

## 2. Complement(余事象)
直接数えにくいなら　`全体 - ダメなもの`で考える

### 例
iと利害関係がいない人数
＝（自分以外の全員）ー（利害者がある人数）
= `(n-1) - deg(i)`

## 3. 組み合わせ（nCr）
K人からr人を選ぶ通り数

### 3人組 
- `C(K,3) = K*(K-1)*(K-2)/6`
- `K < 3` なら `0`（3人選べない）

### 例
- K=3 → C(3,3)=1
- K=4 → C(4,3)=4
- K=5 → C(5,3)=10  


# ミニ練習問題（Degree / 余事象 / 組み合わせ）
※すべて **答え付き**

---

## A) Degree（次数）

### 問1
N=6、辺は  
(1-2)(1-3)(3-4)(4-5)(4-6)  
各頂点の次数 deg(1)〜deg(6) を求めよ。

**答え**  
deg(1)=2, deg(2)=1, deg(3)=2, deg(4)=3, deg(5)=1, deg(6)=1

---

### 問2
N 人、M 本の無向辺が与えられる。  
各頂点の次数を求め、最大次数を出力せよ。

**答え（方針）**  
入力を読みながら `deg[a]++`, `deg[b]++` を行い、最後に `max(deg[i])` を出力する。

---

### 問3
次数が 0 の頂点（孤立頂点）の個数を求めよ。

**答え**  
`count(deg[i] == 0)` を数える。

---

## B) Complement（余事象：全体から引く）

### 問1
N=10、deg(7)=3 のとき、  
研究者 7 と利害関係がない研究者の人数（自分を除く）は何人か。

**答え**  
(N-1) - deg(7) = 9 - 3 = **6**

---

### 問2
N=20 の集団がある。ある人 i は自分以外に「会いたくない人」が 5 人いる。  
i 以外で会ってよい人数は何人か。

**答え**  
(N-1) - 5 = 19 - 5 = **14**

---

### 問3
N 人から相異なる 2 人を選ぶ全ペアは C(N,2) 通りある。  
このうち「禁止ペア」が M 個ある（重複なし）とき、許可ペアは何通りか。

**答え**  
C(N,2) - M

---

## C) 組み合わせ（nCr）

### 問1
K=6 人から 3 人を選ぶ方法は何通りか。

**答え**  
C(6,3) = 6×5×4 / 6 = **20**

---

### 問2
K=2 人から 3 人を選ぶ方法は何通りか。

**答え**  
**0**（3 人選べない）

---

### 問3（この問題に近い形）
N=8、人 i の次数が deg(i)=2 のとき、  
「i 以外かつ i と利害関係がない人」から 3 人を選ぶ通り数を求めよ。

**答え**  
候補数 K = (N-1) - deg(i) = 7 - 2 = 5  
よって C(5,3) = **10**

---

## 参考：C(K,3) の高速計算
- K < 3 のとき 0
- それ以外は `K*(K-1)*(K-2)/6`（long long 推奨）